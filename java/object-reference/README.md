Вы знаете, что происходит при объявлении переменной простого типа и присвоении ей значение. А что будет с непростыми переменными, то есть с объектами?

Нельзя вложить объект в переменную. Мы часто думаем об этом что-то вроде "я поместил новый объект Foo в переменную под названием myFoo".  
На самом деле это не так. Нет гигантских расширяемых контейнеров, которые могут подстоиться под размер любого объекта. Объект существует лишь в одном месте - в куче, управляемой сборщиком мусора.

Хотя переменные простых типов состоят из битов и действительно представляют свои значения, ссылочные переменные содержат биты, которые описывают способ получения объекта.

Вы использовали оператор доступа "." в сочетании со ссылочной переменной, чтобы сказать: "Используй элемент перед точкой, чтобы дать мне элемент, находящийся после точки". Например, команда:
```java
myDog.bark();
```
означает: "Используй объект, на который ссылается переменная myDog, чтобы вызвать метод bark()". Когда вы и используете оператор доступа "." (точка) в сочетании со ссылкой на объект, думайте об этом, как о нажатии кнопок на пульте дистанционного управления объектом.

![картинка пульта Dog]()

### Ссылка на объект - всего лишь еще одно значение переменной.

Нечто такое, что храниться вутри "чашки". Только в данном случае значение - это пульт дистанционного управления.

![картинка хнанения простого типа и ссылочного]()
Переменная простого типа byte x = y;  
Биты, представляющие число 7, хранятся в переменной.

Ссылочная переменная Dog myDog = new Dog();  
Биты, описывающие способ получить объект Dog, хранятся в переменной. Но сам по себе объект Dog не в переменной!

Нам не важно, сколько нулей и единиц хранится в ссылочной переменной. Это может зависеть от конкретной JVM или от фазы Луны.

### Три шага на пути к объявлению, созданию и инициализации объекта.

```java
   (1)   (3)   (2)
Dog myDog = new Dog();
```
1. Объявляем ссылочную переменную. **Dog myDog** = new Dog();   
Это говорит JVM, что она должна выделить место в памяти для ссылочной переменной и назвать ее myDog. Ссылочна переменная навсегда получает тип Dog. Иными словами, это пульт управления, у которого есть кнопки для работы именно с объектом Dog, а не Cat, Button или Socket.

2. Создаем объект. Dog myDog = **new Dog();**  
Здесь JVM получает приказ выделить память в куче для объекта Dog и создает его.

3. Связываем объект и ссылку. Dog myDog **=** new Dog();  
Присваиваем ссылочной переменной myDog новый объект типа Dog. Другими словами, связываем пульт с конкретным объектом.

### Жизнь в куче под управлением сборщика мусора

![картинка]()

Объявляем две ссылки типа Book. Создаем два новых объекта Book. Присваиваем ссылочным переменным объекты типа Book. Два объекта Book теперь находяться в куче.
- Ссылок: 2
- Объектов: 2

![картинка]()

Объявляем новую ссылку типа Book. Вместо того чтобы создавать новый, третий объект типа Book, присваемваем ссылке значение переменной с. Мы как бы говорим: "Возьми биты из c, скопируй их и помести эту копию в d".  
Переменные c и d ссылаются на один и тот же объект. Ссылки c и d хранят две разные копии одного и того же значения. Два пульта управления для одного объекта типа Book.  
- Ссылок: 3
- Объектов: 2

![картинка]()
Берем значение переменной b и присваиваем его переменной c. Сейчас вам уже известно, что это означает. Биты внутри переменной b копируются, и новая копия помещается в переменную c.  
И b, и c ссылаются на один и тот же объект.  
- Ссылок: 3
- Объектов: 2

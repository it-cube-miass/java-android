Почти каждое графическое или игровое приложение имеет игровой цикл. Даже пошаговые игры, все равно должны синхронизировать действия игрока и искусственного интеллекта с отображением на экране, соблюдая при этом правила операционной системы.

Существует необходимость постоянно обновлять объекты в приложении, возможно, перемещая их. Вам нужно нарисовать все в его текущем положении одновременно с ответом на ввод пользователя. Схема может помочь:

![](assets/diagram-1.png)

Наш игровой цикл состоит из трех основных этапов:

1. Обновление состояния всех объектов в игре, таких как перемещение, столкновение, обработка искусственного интеллекта.
2. Отрисовывание кадра анимации, основываясь на измененном состоянии данных.
3. Реагирование на действия пользователя.

Существует одна проблема, все обновления и отрисовка должна происходит асинхронно, для возможности обнаружения прикосновений к экрану и отработки событий операционной системы.

Но как именно будут проходить эти три фазы? Как мы будем кодировать эту асинхронную систему, в рамках которой нужно вызывать обновление и отрисовку, и как мы заставим цикл работать с правильной скоростью (частота кадров)?

Как вы, вероятно, догадываетесь, написание эффективного игрового цикла не так просто, как цикл while.

Мы должны иметь возможность для выбора времени запуска и остановки цикла, а также не допускать ситуации, когда операционная система перестает реагировать, из-за того, что наш цикл съел весь процессор.

И помогут нам в этом потоки.
